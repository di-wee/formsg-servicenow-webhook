"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.determineIsFormFieldsV3 = exports.determineIsFormFields = void 0;
function determineIsFormFields(tbd) {
    if (!Array.isArray(tbd)) {
        return false;
    }
    // If there exists even a single internal response that does not fit the
    // shape, the object is not created properly.
    var filter = tbd.filter(function (internal) {
        // Have either answer or answerArray or is isHeader
        // Since empty strings are allowed, check using typeof.
        return (typeof internal.answer === 'string' ||
            Array.isArray(internal.answerArray) ||
            internal.isHeader) &&
            internal._id &&
            internal.fieldType &&
            // The field is still valid even when the question title is empty string
            // (even though it is not intended behavior).
            typeof internal.question === 'string';
    });
    return filter.length === tbd.length;
}
exports.determineIsFormFields = determineIsFormFields;
// TODO(MRF): This is currently very rudimentary, we should look at making this more specific where required.
function determineIsFormFieldsV3(tbd) {
    for (var _i = 0, _a = Object.keys(tbd); _i < _a.length; _i++) {
        var id = _a[_i];
        var value = tbd[id];
        var hasCorrectShape = value.fieldType && value.answer !== undefined;
        if (!hasCorrectShape)
            return false;
    }
    return true;
}
exports.determineIsFormFieldsV3 = determineIsFormFieldsV3;
